(this["webpackJsonpcrud-use-reducer-local-storage"]=this["webpackJsonpcrud-use-reducer-local-storage"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(7),u=a.n(r),i=a(1),c=a(8),m=function(e,t){switch(t.type){case"add":return[].concat(Object(c.a)(e),[t.payload]);case"delete":return e.filter((function(e){return e.id!==t.payload}));case"update":return e.map((function(e){return e.id===t.payload.id?{id:e.id,name:""===t.payload.inputName?e.name:t.payload.inputName,email:""===t.payload.inputEmail?e.email:t.payload.inputEmail}:e}));default:return e}},d=a(2),o=a(3),s=function(e,t,a){var l=e.inputName,r=e.inputEmail,u=Object(n.useState)(!1),c=Object(i.a)(u,2),m=c[0],s=c[1],p=Object(n.useState)(null),E=Object(i.a)(p,2),b=E[0],h=E[1];return{idCurrent:b,edit:m,handleDelete:function(e){a({type:"delete",payload:e}),s(!m)},handleEdit:function(e){!1===m&&(h(e),s(!m))},handleUpdate:function(e){a({type:"update",payload:{id:e.id,inputName:l,inputEmail:r}}),s(!m),t({inputEmail:"",inputName:""})},handleChangeEdit:function(a){var n=a.target;t(Object(o.a)(Object(o.a)({},e),{},Object(d.a)({},n.name,n.value)))}}},p=function(e){var t=e.users,a=e.valuesInputs,n=e.setValuesInputs,r=e.dispatch,u=s(a,n,r),i=u.idCurrent,c=u.edit,m=u.handleDelete,d=u.handleEdit,o=u.handleUpdate,p=u.handleChangeEdit;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"CRUD usuarios localstorage"),l.a.createElement("hr",null),l.a.createElement("h2",null,"Lista de usuarios"),l.a.createElement("div",null,l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Nombre"),l.a.createElement("th",null,"Email"))),l.a.createElement("tbody",null,t.map((function(e,t){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.id),l.a.createElement("td",null,c&&e.id===i?l.a.createElement("input",{type:"text",onChange:p,name:"inputName",defaultValue:e.name}):e.name),l.a.createElement("td",null,c&&e.id===i?l.a.createElement("input",{type:"text",name:"inputEmail",onChange:p,defaultValue:e.email}):e.email),l.a.createElement("td",null,l.a.createElement("button",{disabled:!1,onClick:c&&e.id===i?function(){return o(e)}:function(){return d(e.id)},className:c&&e.id===i?"btn btn-success":"btn btn-warning"},c&&e.id===i?"Actualizar":"Editar"),l.a.createElement("button",{onClick:function(){return m(e.id)},className:"btn btn-danger"},"Eliminar")))}))))))},E=function(e){var t=e.handleSubmit,a=e.handleChange,n=e.formValues,r=n.name,u=n.email;return l.a.createElement("div",null,l.a.createElement("h2",null,"Crear usuario"),l.a.createElement("form",{onSubmit:t},l.a.createElement("input",{type:"text",placeholder:"Nombre",name:"name",className:"form-control mt-2",onChange:a,value:r}),l.a.createElement("input",{type:"text",placeholder:"Correo electr\xf3nico",name:"email",className:"form-control mt-2",onChange:a,value:u}),l.a.createElement("button",{type:"submit",className:"btn btn-primary mt-3"},"Agregar")))},b=null!==localStorage.getItem("users")?JSON.parse(localStorage.getItem("users")):[],h=function(){var e=Object(n.useReducer)(m,b),t=Object(i.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){localStorage.setItem("users",JSON.stringify(a))}),[a]);var u=Object(n.useState)({id:"",name:"",email:""}),c=Object(i.a)(u,2),s=c[0],h=c[1],f=Object(n.useState)({inputName:"",inputEmail:""}),g=Object(i.a)(f,2),y=g[0],O=g[1],v=function(e,t,a){var n=e.name,l=e.email,r=function(){a({name:"",email:""})};return{handleSubmit:function(a){a.preventDefault(),n.trim()<=1||l.trim()<=1||(t({type:"add",payload:e}),r())},reset:r,handleChange:function(t){var n=t.target;a(Object(o.a)(Object(o.a)({},e),{},Object(d.a)({id:(new Date).getTime()},n.name,n.value)))}}}(s,r,h),j=v.handleSubmit,N=v.handleChange;return l.a.createElement("div",{className:"container mt-5"},l.a.createElement(p,{users:a,valuesInputs:y,setValuesInputs:O,dispatch:r}),l.a.createElement(E,{formValues:s,handleSubmit:j,handleChange:N}))};a(14);u.a.render(l.a.createElement(h,null),document.querySelector("#root"))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.8ec9845c.chunk.js.map